<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BenefiSys - Beneficiary Management System — Hope of Tomorrow</title>
    <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
<section id="benefiSys" style="padding:50px; background:#f5f5f5;">
  <h2 style="text-align:center; font-size:32px; margin-bottom:20px;">BenefiSys - Beneficiary Management System</h2>

  <!-- Staff login -->
  <div id="staffLogin" style="max-width:500px; margin:0 auto 30px; background:white; padding:20px; border-radius:10px; box-shadow:0 0 10px rgba(0,0,0,0.1);">
    <h3>Staff Login</h3>
    <input type="text" id="staffName" placeholder="Your Name" style="width:100%; padding:10px; margin:8px 0;">
    <input type="text" id="staffID" placeholder="Working ID" style="width:100%; padding:10px; margin:8px 0;">
    <button onclick="staffLogin()" style="padding:10px 15px; background:#1677ff; color:white; border:none; border-radius:6px; cursor:pointer;">Login</button>
  </div>

<a href="/Home-Page.html"><button>Home</button></a>
<a href="/services-we-offer.html"><button>Services</button></a>
<a href="/Donate.html"><button>Donate</button></a>
<a href="/sign-in-sign-up.html"><button>Sign In / Sign Up</button></a>
<a href="/Jobs.html"><button>Jobs</button></a>
<a href="/volunteer-with-us.html"><button>Volunteer with Us</button></a>
<a href="/Our-Partners.html"><button>Our Partners</button></a>
<a href="/Posting-System.html"><button>Posting System</button></a>
<a href="/Our-Staffs.html"><button>Our Staffs</button></a>
   <a href="/About-Us.html"><button>About-Us</button></a>
  <a href="/get-in-touch-with-us.html"><button>Get in Touch with Us</button></a>
  <a href="/contact-us.html"><button>Contact Us</button></a>
   <a href="/Subscribe.html"><button>Subscribe</button></a>


  <!-- Staff main panel -->
  <div id="staffPanel" style="display:none;">
    <div style="max-width:800px; margin:0 auto 20px; display:flex; justify-content:space-between; align-items:center;">
      <h3>Beneficiaries</h3>
      <button onclick="addBeneficiary()" style="padding:8px 12px; background:#28a745; color:white; border:none; border-radius:5px; cursor:pointer;">+ Add Beneficiary</button>
    </div>

    <!-- Search -->
    <input type="text" id="searchBeneficiary" placeholder="Search by Name or ID" style="width:100%; padding:10px; margin-bottom:20px;" onkeyup="searchBeneficiary()">

    <!-- Beneficiary List -->
    <div id="beneficiaryList"></div>
  </div>
</section>

<!-- Modal for Private Info / Manager Approval -->
<div id="managerModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); justify-content:center; align-items:center;">
  <div style="background:white; padding:30px; border-radius:10px; max-width:500px; text-align:center;">
    <h3>Manager Authorization Required</h3>
    <p id="managerMessage"></p>
    <button onclick="grantAccess(true)" style="padding:10px 15px; background:#28a745; color:white; border:none; border-radius:5px; cursor:pointer; margin-right:10px;">Yes, Allow</button>
    <button onclick="grantAccess(false)" style="padding:10px 15px; background:#dc3545; color:white; border:none; border-radius:5px; cursor:pointer;">No</button>
  </div>
</div>

<script>
// Helper
const getEl = id => document.getElementById(id);

let currentStaff = null;
let managerAuthorized = false;

// Staff login
function staffLogin() {
  const name = getEl('staffName').value;
  const id = getEl('staffID').value;
  if(!name || !id) return alert('Please enter your name and working ID');
  currentStaff = {name, id};
  
  // Simulate manager approval workflow
  showManagerModal(currentStaff);

  getEl('staffLogin').style.display = 'none';
  getEl('staffPanel').style.display = 'block';

  loadBeneficiaries();
}

// Manager approval modal simulation
function showManagerModal(staff) {
  getEl('managerModal').style.display = 'flex';
  getEl('managerMessage').innerText = `Staff ${staff.name} (ID: ${staff.id}) is requesting access to BenefiSys. Allow access?`;
}

// Manager decision
function grantAccess(allow) {
  if(allow) {
    managerAuthorized = true;
    alert('Access granted. You can now view private sections.');
  } else {
    managerAuthorized = false;
    alert('Access denied. You can only view limited beneficiary info.');
  }
  getEl('managerModal').style.display = 'none';
}

// Beneficiary data array
let beneficiaries = JSON.parse(localStorage.getItem('beneficiaries') || '[]');

// Add Beneficiary
function addBeneficiary() {
  const fullName = prompt('Enter Full Name:');
  if(!fullName) return;
  const age = prompt('Enter Age:');
  const gender = prompt('Enter Gender:');
  const familySize = prompt('Family Size:');
  const address = prompt('Address:');
  const phone = prompt('Phone Number:');
  const autoID = 'BEN' + (beneficiaries.length + 1).toString().padStart(4,'0');
  const photo = prompt('Enter photo URL (optional)');

  const privateInfo = prompt('Enter private info (statements, family, etc.)');

  const newBeneficiary = {
    id: autoID,
    fullName, age, gender, familySize, address, phone, photo, privateInfo
  };
  beneficiaries.push(newBeneficiary);
  localStorage.setItem('beneficiaries', JSON.stringify(beneficiaries));

  loadBeneficiaries();
}

// Load Beneficiaries
function loadBeneficiaries() {
  const list = getEl('beneficiaryList');
  list.innerHTML = '';
  if(beneficiaries.length === 0) return list.innerHTML = '<p>No beneficiaries registered.</p>';

  beneficiaries.forEach(b => {
    list.innerHTML += `
      <div style="background:white; padding:15px; border-radius:10px; margin-bottom:10px; box-shadow:0 0 5px rgba(0,0,0,0.1);">
        <strong>${b.fullName}</strong> | Age: ${b.age} | Family Size: ${b.familySize}<br>
        Address: ${b.address} | Phone: ${b.phone}<br>
        <img src="${b.photo || 'https://via.placeholder.com/100'}" alt="Photo" style="width:80px; height:80px; border-radius:50%; margin-top:5px;"><br>
        <button onclick="viewPrivateInfo('${b.id}')" style="margin-top:5px; padding:5px 10px; background:#1677ff; color:white; border:none; border-radius:5px; cursor:pointer;">View Private Info</button>
      </div>
    `;
  });
}

// View Private Info
function viewPrivateInfo(id) {
  const b = beneficiaries.find(x => x.id === id);
  if(!managerAuthorized) return alert('You need manager approval to view private information. Request access first.');
  alert(`Private Info of ${b.fullName}: \n${b.privateInfo}`);
}

// Search beneficiary
function searchBeneficiary() {
  const query = getEl('searchBeneficiary').value.toLowerCase();
  const filtered = beneficiaries.filter(b => b.fullName.toLowerCase().includes(query) || b.id.toLowerCase().includes(query));
  const list = getEl('beneficiaryList');
  list.innerHTML = '';
  if(filtered.length === 0) return list.innerHTML = '<p>No results found.</p>';

  filtered.forEach(b => {
    list.innerHTML += `
      <div style="background:white; padding:15px; border-radius:10px; margin-bottom:10px; box-shadow:0 0 5px rgba(0,0,0,0.1);">
        <strong>${b.fullName}</strong> | Age: ${b.age} | Family Size: ${b.familySize}<br>
        Address: ${b.address} | Phone: ${b.phone}<br>
        <img src="${b.photo || 'https://via.placeholder.com/100'}" alt="Photo" style="width:80px; height:80px; border-radius:50%; margin-top:5px;"><br>
        <button onclick="viewPrivateInfo('${b.id}')" style="margin-top:5px; padding:5px 10px; background:#1677ff; color:white; border:none; border-radius:5px; cursor:pointer;">View Private Info</button>
      </div>
    `;
  });
}
</script>




<!-- ================= FOOTER ================= -->
<footer class="footer">
  
  <!-- Social Media Row -->
  <div class="footer-social">
    <a href="#" target="_blank"><img src="https://cdn-icons-png.flaticon.com/48/174/174848.png" alt="Facebook"></a>
    <a href="#" target="_blank"><img src="https://cdn-icons-png.flaticon.com/48/174/174855.png" alt="Twitter"></a>
    <a href="#" target="_blank"><img src="https://cdn-icons-png.flaticon.com/48/174/174857.png" alt="Instagram"></a>
    <a href="#" target="_blank"><img src="https://cdn-icons-png.flaticon.com/48/174/174879.png" alt="LinkedIn"></a>
    <a href="#" target="_blank"><img src="https://cdn-icons-png.flaticon.com/48/1384/1384060.png" alt="YouTube"></a>
     <a href="#" target="_blank"><img src="https://cdn-icons-png.flaticon.com/48/3046/3046123.png" alt="TikTok"></a> </div>

  <!-- Footer Columns -->
  <div class="footer-columns">
    
    <!-- Left Column -->
    <div class="footer-column">
      <h3>About Us</h3>
      <p>Hope of Tomorrow is committed to empowering communities, supporting volunteers, and delivering impactful services for those in need.</p>
    </div>

    <!-- Middle Column -->
    <div class="footer-column">
      <h3>Quick Links</h3>
      <ul>
        <li><a href="/Home-Page.html">Home</a></li>
        <li><a href="/Services we offer.html">Services</a></li>
        <li><a href="/Donate.html">Donate</a></li>
        <li><a href="/Sign In-Sign Up.html">Sign In / Sign Up</a></li>
        <li><a href="/Jobs.html">Jobs</a></li>
        <li><a href="/Volunteer with-Us.html">Volunteer with Us</a></li>
      </ul>
    </div>

    <!-- Right Column -->
    <div class="footer-column">
      <h3>Legal & Support</h3>
      <ul>
       <li><a href="/privacy.html">Privacy Policy</a></li>
        <li><a href="#">Security</a></li>
        <li><a href="#">Terms & Conditions</a></li>
        <li><a href="#">Disclaimer</a></li>
        <li><a href="#">Help Center</a></li>
      </ul>
    </div>

  </div>

  <hr>
  <div class="footer-bottom">
    <p>© <span id="year"></span> Hope of Tomorrow. All Rights Reserved.</p>
  </div>

</footer>

<!-- ================= CSS ================= -->
<style>
.footer {
  background:#0a0a0a;
  color:white;
  padding:40px 20px;
  font-family:Arial, sans-serif;
}

.footer-social {
  display:flex;
  justify-content:center;
  gap:20px;
  margin-bottom:30px;
}

.footer-social img {
  width:35px;
  height:35px;
  transition: transform 0.3s;
}

.footer-social img:hover {
  transform: scale(1.2);
}

.footer-columns {
  display:flex;
  justify-content:space-between;
  gap:20px;
  flex-wrap:wrap;
}

.footer-column {
  flex:1;
  min-width:200px;
  margin-bottom:20px;
}

.footer-column h3 {
  color:#f5f5f5;
  margin-bottom:10px;
}

.footer-column p, .footer-column ul {
  color:#cfcfcf;
  line-height:1.6;
}

.footer-column ul {
  list-style:none;
  padding:0;
}

.footer-column ul li {
  margin:5px 0;
}

.footer-column ul li a {
  color:#cfcfcf;
  text-decoration:none;
}

.footer-column ul li a:hover {
  text-decoration:underline;
}

.footer hr {
  border:0;
  border-top:1px solid #333;
  margin:20px 0;
}

.footer-bottom {
  text-align:center;
  color:#cfcfcf;
}

/* Responsive for mobile */
@media(max-width:768px){
  .footer-columns {
    flex-direction:column;
    align-items:center;
  }
  .footer-column {
    text-align:center;
  }
}
</style>

<script>
// Auto-update year
document.getElementById("year").innerText = new Date().getFullYear();
</script>

</body>
</html>